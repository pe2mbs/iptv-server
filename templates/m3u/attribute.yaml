project_defaults:                   !include ../iptv-defaults.yaml
objects:
  -   name:                         m3u_attr
      title:                        Media file attributes
      remark: >
        An M3U file is a plain text file that specifies the locations of one
        or more media files. The file is saved with the "m3u" filename extension
        if the text is encoded in the local system's default non-Unicode encoding
        (e.g., a Windows codepage), or with the "m3u8" extension if the text is
        UTF-8 encoded.
      class:                        M3uAttr
      uri:                          /api/m3u_attr
      actions:
        -   name:                   new
            label:                  New
            type:                   screen
            icon:                   add
            position:               header
            function:               self.addRecord()
        -   name:                   edit
            label:                  Edit
            type:                   screen
            icon:                   edit
            position:               row
            function:               self.editRecord( idx, row )
        -   name:                   delete
            label:                  Delete
            type:                   dialog
            icon:                   delete
            position:               cell
            function:               core.deleteRecord( idx, row, 'MA_ID', 'Attribute', 'MA_ATTRIBUTE' )
      table:
        name:                       M3U_ATTR
        columns:
          -   field:                MA_ID               INT           AUTO NUMBER  PRIMARY KEY
          -   field:                MA_ATTRIBUTE        CHAR( 30 )    NOT NULL
              label:                Title
              ui:
                type:               textbox
                resovle-list:
                  # indicates that the channel needs to be protected by parental control, if such is present in the device, can take values 0 and 1
                  censored:         censored
                  # unique identifier of the channel
                  id:               id
                  # the unique identifier of the channel in the program file, if the XMLTV format is used for example
                  tvg-id:           tvg-id
                  # the group ID of the channels
                  group_id:         group_id
                  # name of the group of channels
                  group-title:      group-title
                  # indicates the shift of the program schedule, takes the values -1, -2,0,1,2,.. and so on.
                  tvg-shift:        tvg-shift
                  # name of the channel in the program file, which is used mainly when using programs in a format JTV
                  tvg-name:         tvg-name
                  # link to the channel logo
                  tvg-logo:         tvg-logo
                  # specifies which audio track to use, for example en or ru
                  audio-track:      audio-track
                  # specifies which audio track number to use starting from zero, for example 0,1,2 and so on.
                  audio-track-num:  audio-track-num
              listview:
                index:              0
                width:              50%
                sort:               true
                filter:             true
          -   field:                MA_VALUE            CHAR( 255 )   NOT NULL
              label:                Link address
              ui:
                type:               textbox
              listview:
                index:              0
                width:              50%
                sort:               true
                filter:             true
          -   field:                MA_M_ID             INT           FOREIGN KEY M3U.M_ID   NOT NULL
              label:                Media data
              ui:
                type:               choice
                service:
                  class:            M3u
                  name:             m3u
                  value:            M_ID
                  label:            M_TITLE
          -   field:                MA_OVERIDE          INT           DEFAULT 0
              label:                Override value
              ui:
                type:               checkbox
                resolve-list:
                  0:                No override
                  1:                Channel title
                  2:                Bouget name
