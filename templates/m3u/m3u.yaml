project_defaults:                   !include ../iptv-defaults.yaml
objects:
  -   name:                         m3u
      title:                        Media file
      remark: >
        An M3U file is a plain text file that specifies the locations of one
        or more media files. The file is saved with the "m3u" filename extension
        if the text is encoded in the local system's default non-Unicode encoding
        (e.g., a Windows codepage), or with the "m3u8" extension if the text is
        UTF-8 encoded.
      class:                        M3u
      uri:                          /api/m3u
      menu:
        caption:                    Media data (m3u)
        icon:                       settings
        index:                      2
        route:                      /m3u
      actions:
        -   name:                   new
            label:                  New
            type:                   screen
            icon:                   add
            position:               header
            function:               self.addRecord()
        -   name:                   edit
            label:                  Edit
            type:                   screen
            icon:                   edit
            position:               row
            function:               self.editRecord( idx, row )
        -   name:                   delete
            label:                  Delete
            type:                   dialog
            icon:                   delete
            position:               cell
            function:               core.deleteRecord( idx, row, 'M_ID', 'Media', 'M_TITLE'  )
      table:
        name:                       M3U
        tabs:
          labels:
            -   Attributes
          tab:
            -   label:              Attributes
                component:          app-m3u_attr-table
                class:              M3uAttrTableComponent
                module:             m3u_attr
                params:
                  id:               MA_M_ID
                  value:            M_ID
                  mode:             filter
        columns:
          -   field:                M_ID                        INT             AUTO NUMBER  PRIMARY KEY
          -   field:                M_TITLE                     CHAR( 255 )     NOT NULL
              label:                Title
              ui:
                type:               textbox
              listview:
                index:              0
                width:              100%
                sort:               true
                filter:             true
          -   field:                M_LINK                      CHAR( 255 )     NOT NULL
              label:                Link address
              ui:
                type:               textbox
          -   field:                M_DURATION                  INT             NOT NULL
              label:                Duration
              ui:
                type:               number
